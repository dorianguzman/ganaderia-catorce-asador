!function(){"use strict";var e=100,t={tacos:{character:"assets/generated/zone-tacos.webp",characterVideo:"assets/generated/zone-tacos.mp4",accent:"#D4231A",quote:"Los tacos son mi vida, guero!"},quesadillas:{character:"assets/generated/zone-quesadillas.webp",characterVideo:"assets/generated/zone-quesadillas.mp4",accent:"#F9A825",quote:"Con quesito, todo sabe mejor."},charolas:{character:"assets/generated/zone-charolas.webp",characterVideo:"assets/generated/zone-charolas.mp4",accent:"#BF360C",quote:"Pa' los que van en serio."},especialidades:{character:"assets/generated/zone-especialidades.webp",characterVideo:"assets/generated/zone-especialidades.mp4",accent:"#8D6E63",quote:"Lo mejor de la casa, compadre."},bebidas:{character:"assets/generated/zone-bebidas.webp",characterVideo:"assets/generated/zone-bebidas.mp4",accent:"#558B2F",quote:"Pa' refrescar el alma!"},postres:{character:"assets/generated/zone-postres.webp",characterVideo:"assets/generated/zone-postres.mp4",accent:"#E91E63",quote:"El broche de oro, mi amor."},salsas:{character:"assets/generated/salsas-scene.webp",characterVideo:"assets/generated/salsas-scene.mp4",accent:"#F44336",quote:"El toque que le faltaba a tu taco!"}},a={tacos:{emoji:"üåÆ",short:"Tacos"},quesadillas:{emoji:"üßÄ",short:"Quesadillas"},charolas:{emoji:"ü•©",short:"Charolas"},especialidades:{emoji:"‚≠ê",short:"Especialidades"},bebidas:{emoji:"ü•§",short:"Bebidas"},postres:{emoji:"üç∞",short:"Postres"},salsas:{emoji:"üå∂Ô∏è",short:"Salsas"}},n=["taco-newyork","quesa-newyork","charola-combinada","charola-diezmillo","chavindeca","papa-grill"],o=null,r={},i=null,s="write",c=null,d=0,l=0,u=0,m=0,p=0,y=!1,f=!1,g={},v=document.getElementById("menu-nav"),h=document.getElementById("menu-dots"),b=document.getElementById("menu-worlds"),_=document.getElementById("menu-worlds-track"),I=document.getElementById("cart-fab"),q=document.getElementById("cart-badge"),E=document.getElementById("bottom-sheet"),w=document.getElementById("sheet-overlay"),L=document.getElementById("sheet-items"),k=document.getElementById("sheet-empty"),B=document.getElementById("sheet-order-type"),x=document.getElementById("sheet-address"),C=document.getElementById("sheet-total-value"),S=document.getElementById("btn-send"),T=document.getElementById("address-form");function j(t){var a=t.target.closest(".stepper__btn");if(a){var n=a.dataset.id,i=a.dataset.action;if("plus"===i){var s=$(n);if(s&&s.item.hasIngredients)return void function(t){0;var a=$(t);if(!a)return;A();var n=o.categories.find(function(e){return"tacos"===e.id}).items.map(function(e){return{id:e.id.replace("taco-",""),name:e.name}}),i=document.createElement("div");i.className="ingredient-picker-overlay",i.id="ingredient-picker-overlay";var s=document.createElement("div");s.className="ingredient-picker";var c=document.createElement("div");c.className="ingredient-picker__title",c.textContent="Elige tu ingrediente ‚Äî "+a.item.name;var l=document.createElement("div");l.className="ingredient-picker__grid";var u=a.item.nyPrice||100;n.forEach(function(a){var n=document.createElement("button");n.className="ingredient-picker__btn","newyork"===a.id?(n.className+=" ingredient-picker__btn--ny",n.textContent=a.name+" ¬∑ $"+u):n.textContent=a.name,n.addEventListener("click",function(){!function(t,a,n){var o=t+"--"+a,i=$(t);if(!i)return;var s="newyork"===a?i.item.nyPrice||e:i.item.price;r[o]||(r[o]={item:{id:o,name:i.item.name,price:s},qty:0,categoryName:i.categoryName,categoryId:i.categoryId,ingredientName:n,baseItemId:t});r[o].qty++,M(t),J();var c=_.querySelector('[data-item-id="'+t+'"]');c&&(c.classList.add("has-items"),c.classList.remove("is-pulse"),c.offsetWidth,c.classList.add("is-pulse"));V(d)}(t,a.id,a.name),A()}),l.appendChild(n)});var m=document.createElement("button");m.className="ingredient-picker__cancel",m.textContent="Cancelar",m.addEventListener("click",A),s.appendChild(c),s.appendChild(l),s.appendChild(m),i.appendChild(s),document.body.appendChild(i),i.addEventListener("click",function(e){e.target===i&&A()}),requestAnimationFrame(function(){i.classList.add("is-visible")})}(n);D(n)}if("minus"===i){var c=$(n);if(c&&c.item.hasIngredients)return void function(e){for(var t=Object.keys(r),a=e+"--",n=null,o=0;o<t.length;o++)0===t[o].indexOf(a)&&r[t[o]].qty>0&&(n=t[o]);if(!n)return;r[n].qty--,0===r[n].qty&&delete r[n];var i=N(e),s=_.querySelector('[data-item-id="'+e+'"]');s&&0===i&&s.classList.remove("has-items");M(e),J(),V(d)}(n);F(n)}}}function A(){var e=document.getElementById("ingredient-picker-overlay");e&&(e.classList.remove("is-visible"),setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e)},350),null)}function N(e){for(var t=0,a=Object.keys(r),n=e+"--",o=0;o<a.length;o++)0===a[o].indexOf(n)&&(t+=r[a[o]].qty);return t}function M(e){var t=document.getElementById("count-"+e);t&&(t.textContent=N(e));for(var a=0,n=Object.keys(r),o=0;o<n.length;o++)"salsas"!==r[n[o]].categoryId&&(a+=r[n[o]].qty);q.textContent=a,I.hidden=0===a,a>0&&(I.classList.remove("is-bounce"),I.offsetWidth,I.classList.add("is-bounce")),te()}function O(){_.addEventListener("touchstart",z,{passive:!0}),_.addEventListener("touchmove",H,{passive:!0}),_.addEventListener("touchend",Q,{passive:!0}),document.addEventListener("keydown",function(e){"ArrowRight"===e.key&&R(Math.min(d+1,l-1)),"ArrowLeft"===e.key&&R(Math.max(d-1,0))})}function z(e){if(!f){var t=e.touches[0];u=t.clientX,m=t.clientY,p=0,y=!1,_.classList.remove("is-animating")}}function H(e){if(!f){var t=e.touches[0],a=t.clientX-u,n=t.clientY-m;if(!(!y&&Math.abs(a)<10&&Math.abs(n)<10)){if(!y){if(Math.abs(n)>Math.abs(a))return;y=!0}if(y){p=a,(0===d&&a>0||d===l-1&&a<0)&&(p=.3*a);var o=100*-d,r=p/_.offsetWidth*100;_.style.transform="translateX("+(o+r)+"%)"}}}}function Q(){y&&(y=!1,Math.abs(p)>50?p<0&&d<l-1?R(d+1):p>0&&d>0?R(d-1):P():P())}function P(){_.classList.add("is-animating"),_.style.transform="translateX("+100*-d+"%)"}function R(e){if(!(e<0||e>=l)){d=e,_.classList.add("is-animating"),_.style.transform="translateX("+100*-e+"%)",function(e){var a=v.querySelectorAll(".menu__tab"),n=h.querySelectorAll(".menu__dot"),o=_.querySelectorAll(".menu__world"),r=o[e],i=r?r.dataset.zone:"",s=t[i]||{};a.forEach(function(t,a){t.classList.toggle("is-active",a===e)}),n.forEach(function(t,a){t.classList.toggle("is-active",a===e),a===e&&s.accent?t.style.background=s.accent:t.style.background=""}),s.accent&&v.style.setProperty("--tab-accent",s.accent)}(e),V(e);var a=_.querySelectorAll(".menu__world")[e];a&&!g[e]&&(g[e]=!0,function(e){var t=window.matchMedia("(prefers-reduced-motion: reduce)").matches,a=e.querySelector(".menu__world-character"),n=e.querySelector(".menu__world-title"),o=e.querySelector(".menu__world-quote"),r=e.querySelector(".menu__category-desc"),i=e.querySelector(".salsas__subtitle"),s=e.querySelectorAll(".menu__item"),c=e.querySelector(".salsas__image-wrap");if(t)return n&&(n.style.opacity="1"),o&&(o.style.opacity="1"),r&&(r.style.opacity="1"),i&&(i.style.opacity="1"),s.forEach(function(e){e.style.opacity="1"}),c&&(c.style.opacity="1"),void e.classList.add("is-entered");if("undefined"==typeof gsap)return n&&(n.style.opacity="1"),o&&(o.style.opacity="1"),r&&(r.style.opacity="1"),i&&(i.style.opacity="1"),s.forEach(function(e){e.style.opacity="1"}),void e.classList.add("is-entered");var l=gsap.timeline({onComplete:function(){e.classList.add("is-entered"),V(d)}});a&&l.fromTo(a,{opacity:0,scale:.5},{opacity:1,scale:1,duration:.5,ease:"back.out(1.7)"});n&&l.fromTo(n,{opacity:0,y:15},{opacity:1,y:0,duration:.5,ease:"power3.out"},a?"-=0.3":"0");o&&l.fromTo(o,{opacity:0,y:10},{opacity:1,y:0,duration:.4,ease:"power3.out"},"-=0.2");r&&l.fromTo(r,{opacity:0,y:10},{opacity:1,y:0,duration:.4,ease:"power3.out"},"-=0.2");i&&l.fromTo(i,{opacity:0,y:10},{opacity:1,y:0,duration:.4,ease:"power3.out"},"-=0.2");s.length>0&&l.fromTo(s,{opacity:0,y:25,scale:.95},{opacity:1,y:0,scale:1,duration:.4,stagger:.06,ease:"power3.out"},"-=0.2");c&&l.fromTo(c,{opacity:0,y:20},{opacity:1,y:0,duration:.5,ease:"power3.out"},"-=0.2")}(a)),function(e){var t=_.querySelectorAll(".menu__world");t.forEach(function(t,a){t.querySelectorAll("video").forEach(function(t){a===e?(t.dataset.src&&!t.src&&(t.src=t.dataset.src,t.removeAttribute("data-src")),t.play().catch(function(){})):t.paused||t.pause()})})}(e),f=!0,setTimeout(function(){f=!1},450)}}function V(e){var t=_.querySelectorAll(".menu__world")[e];if(t){var a=t.scrollHeight,n=window.matchMedia("(prefers-reduced-motion: reduce)").matches;"undefined"==typeof gsap||n?(b.style.height=a+"px","undefined"!=typeof ScrollTrigger&&ScrollTrigger.refresh()):gsap.to(b,{height:a,duration:.35,ease:"power2.out",onComplete:function(){"undefined"!=typeof ScrollTrigger&&ScrollTrigger.refresh()}})}}function $(e){for(var t=0;t<o.categories.length;t++)for(var a=o.categories[t],n=0;n<a.items.length;n++)if(a.items[n].id===e)return{item:a.items[n],categoryName:a.name,categoryId:a.id};return null}function D(e){var t=r[e]?null:$(e);if("salsas"===(r[e]?r[e].categoryId:t?t.categoryId:null)){if(r[e]&&r[e].qty>=1)return;if(function(){for(var e=0,t=Object.keys(r),a=0;a<t.length;a++)"salsas"===r[t[a]].categoryId&&(e+=r[t[a]].qty);return e}()>=2)return}if(!r[e]){if(!t)return;r[e]={item:t.item,qty:0,categoryName:t.categoryName,categoryId:t.categoryId}}r[e].qty++,X(e),J();var a=_.querySelector('[data-item-id="'+e+'"]');a&&(a.classList.add("has-items"),a.classList.remove("is-pulse"),a.offsetWidth,a.classList.add("is-pulse")),V(d)}function F(e){if(r[e]&&!(r[e].qty<=0)){r[e].qty--;var t=_.querySelector('[data-item-id="'+e+'"]');0===r[e].qty&&(delete r[e],t&&t.classList.remove("has-items")),X(e),J(),V(d)}}function X(e){var t=$(e);if(!t||!t.item.hasIngredients){var a=document.getElementById("count-"+e);a&&(a.textContent=r[e]?r[e].qty:0);for(var n=0,o=Object.keys(r),i=0;i<o.length;i++)"salsas"!==r[o[i]].categoryId&&(n+=r[o[i]].qty);q.textContent=n,I.hidden=0===n,n>0&&(I.classList.remove("is-bounce"),I.offsetWidth,I.classList.add("is-bounce")),te()}}function Y(){for(var e=0,t=Object.keys(r),a={},n=[],o=0;o<t.length;o++){var i=r[t[o]];if(i.baseItemId){var s=i.baseItemId;a[s]||(a[s]={promoQty:0,nyTotal:0,baseItem:null}),"New York"===i.ingredientName?a[s].nyTotal+=i.qty*i.item.price:(a[s].promoQty+=i.qty,a[s].baseItem||(a[s].baseItem=$(s)))}else n.push(t[o])}for(var c=0;c<n.length;c++){var d=r[n[c]];e+=U(d.item,d.qty)}for(var l=Object.keys(a),u=0;u<l.length;u++){var m=a[l[u]];e+=m.nyTotal,m.promoQty>0&&m.baseItem&&(e+=W(m.promoQty,m.baseItem.item))}return e}function W(e,t){var a=t.promos||(t.promo?[t.promo]:[]);if(0===a.length)return e*t.price;for(var n=[0],o=1;o<=e;o++){n[o]=n[o-1]+t.price;for(var r=0;r<a.length;r++)if(o>=a[r].qty){var i=n[o-a[r].qty]+a[r].price;i<n[o]&&(n[o]=i)}}return n[e]}function U(e,t){if(e.promo&&t>=e.promo.qty){var a=Math.floor(t/e.promo.qty),n=t%e.promo.qty;return a*e.promo.price+n*e.price}return t*e.price}function J(){try{sessionStorage.setItem("ac14_cart",JSON.stringify(r))}catch(e){}}function G(){var e=document.getElementById("btn-get-location"),t=document.getElementById("location-status"),a=document.getElementById("location-error"),n=document.getElementById("location-link");if(a.hidden=!0,e.disabled=!0,e.textContent="Obteniendo...",!navigator.geolocation)return e.disabled=!1,e.innerHTML='<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg> Obtener ubicacion',a.textContent="Tu navegador no soporta geolocalizacion.",void(a.hidden=!1);navigator.geolocation.getCurrentPosition(function(a){var o="https://maps.google.com/?q="+(c={lat:a.coords.latitude,lng:a.coords.longitude}).lat+","+c.lng;n.href=o,t.hidden=!1,e.disabled=!1,e.innerHTML='<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg> Actualizar ubicacion',te()},function(t){e.disabled=!1,e.innerHTML='<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg> Obtener ubicacion';var n="No se pudo obtener tu ubicacion. ";1===t.code?n+="Permite el acceso a tu ubicacion en tu navegador.":2===t.code?n+="Ubicacion no disponible. Intenta de nuevo.":n+="Intenta de nuevo.",a.textContent=n,a.hidden=!1},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}function K(){ee(),w.hidden=!1,requestAnimationFrame(function(){w.classList.add("is-visible"),E.classList.add("is-open"),E.setAttribute("aria-hidden","false")}),document.body.style.overflow="hidden"}function Z(){w.classList.remove("is-visible"),E.classList.remove("is-open"),E.setAttribute("aria-hidden","true"),document.body.style.overflow="",setTimeout(function(){w.hidden=!0},300)}function ee(){for(var e=[],t=Object.keys(r),a=0;a<t.length;a++)e.push(r[t[a]]);var n=e.length>0;if(k.hidden=n,L.hidden=!n,"dine-in"===i)B.textContent="Para Comer Aqui",x.textContent="";else if("takeaway"===i)if(B.textContent="Para Llevar","location"===s&&c){var o="https://maps.google.com/?q="+c.lat+","+c.lng,d=document.getElementById("location-ref").value;x.innerHTML='<a href="'+o+'" target="_blank" rel="noopener" style="color:var(--orange);text-decoration:underline;">Ver ubicacion en mapa</a>',d&&(x.innerHTML+=" &middot; "+d)}else{var l=[document.getElementById("address-street").value,document.getElementById("address-colonia").value,document.getElementById("address-ref").value].filter(Boolean);x.textContent=l.length?l.join(", "):""}else B.textContent="Selecciona tipo de pedido",x.textContent="";if(n){for(var u={},m=0;m<e.length;m++){var p=e[m];p.baseItemId&&(u[p.baseItemId]||(u[p.baseItemId]={promoQty:0}),"New York"!==p.ingredientName&&(u[p.baseItemId].promoQty+=p.qty))}L.innerHTML=e.map(function(e){var t,a=e.item.name,n=e.categoryName,o=e.item.id,r=!!e.baseItemId;if(r){if(a=e.item.name+" ‚Äî "+e.ingredientName,t=e.qty*e.item.price,"New York"!==e.ingredientName){var i=u[e.baseItemId],s=$(e.baseItemId);if(s&&i){for(var c=s.item.promos||(s.item.promo?[s.item.promo]:[]),d=null,l=c.length-1;l>=0;l--)if(i.promoQty>=c[l].qty){d=c[l];break}d&&(n+=" (promo aplicada)")}}}else t=U(e.item,e.qty),e.item.promo&&e.qty>=e.item.promo.qty&&(n+=" ("+Math.floor(e.qty/e.item.promo.qty)+"x promo)");return'<div class="sheet-item"><div class="sheet-item__info"><div class="sheet-item__name">'+a+'</div><div class="sheet-item__detail">'+n+'</div></div><div class="sheet-item__stepper"><button class="stepper__btn stepper__btn--minus" data-sheet-action="minus" data-id="'+o+'"'+(r?' data-compound="true" data-base-id="'+e.baseItemId+'"':"")+' aria-label="Quitar uno">‚àí</button><span class="stepper__count">'+e.qty+'</span><button class="stepper__btn stepper__btn--plus" data-sheet-action="plus" data-id="'+o+'"'+(r?' data-compound="true" data-base-id="'+e.baseItemId+'"':"")+' aria-label="Agregar uno">+</button></div><span class="sheet-item__subtotal">'+(t>0?"$"+t:"Incluida")+"</span></div>"}).join(""),L.querySelectorAll(".stepper__btn").forEach(function(e){e.addEventListener("click",function(){var t=e.dataset.id,a=e.dataset.sheetAction;if("true"===e.dataset.compound){if("plus"===a&&r[t]&&(r[t].qty++,M(e.dataset.baseId),J()),"minus"===a&&r[t]&&r[t].qty>0){r[t].qty--,0===r[t].qty&&delete r[t],M(e.dataset.baseId),J();var n=N(e.dataset.baseId),o=_.querySelector('[data-item-id="'+e.dataset.baseId+'"]');o&&0===n&&o.classList.remove("has-items")}}else"plus"===a&&D(t),"minus"===a&&F(t);ee()})});var y=Y(),f=function(){for(var e=0,t=Object.keys(r),a=0;a<t.length;a++){var n=r[t[a]];e+=n.qty*n.item.price}return e}(),g=f-y;C.textContent="$"+y;var v=document.getElementById("sheet-savings"),h=document.getElementById("sheet-savings-value");v&&h&&(g>0?(h.textContent="-$"+g,v.hidden=!1):v.hidden=!0)}else C.textContent="$0"}function te(){var e=Object.keys(r).length>0,t=document.getElementById("customer-name").value.trim().length>0,a=null!==i;S.disabled=!(e&&t&&a)}function ae(){var e=document.getElementById("customer-name").value.trim();if(e){var t="Hola! Quiero hacer un pedido:\n\n";if("dine-in"===i)t+="*Para Comer Aqui*\n";else if(t+="*Para Llevar*\n","location"===s&&c){t+="Ubicacion: https://maps.google.com/?q="+c.lat+","+c.lng+"\n";var a=document.getElementById("location-ref").value.trim();a&&(t+="Referencia: "+a+"\n")}else{var n=[document.getElementById("address-street").value.trim(),document.getElementById("address-colonia").value.trim(),document.getElementById("address-ref").value.trim()].filter(Boolean);n.length&&(t+="Direccion: "+n.join(", ")+"\n")}t+="\n";for(var o=Object.keys(r),d=0;d<o.length;d++){var l,u,m=r[o[d]],p=!!m.baseItemId;p?(l=m.qty*m.item.price,u=m.item.name+" ("+m.ingredientName+")"):(l=U(m.item,m.qty),u=m.item.name);var y="- "+m.qty+"x "+m.categoryName+" "+u+(l>0?" ($"+l+")":" (incluida)");if(!p&&m.item.promo&&m.qty>=m.item.promo.qty)y+=" ["+Math.floor(m.qty/m.item.promo.qty)+"x promo "+m.item.promo.label+"]";t+=y+"\n"}for(var f={},g=0;g<o.length;g++){var v=r[o[g]];v.baseItemId&&"New York"!==v.ingredientName&&(f[v.baseItemId]||(f[v.baseItemId]=0),f[v.baseItemId]+=v.qty)}for(var h=Object.keys(f),b=0;b<h.length;b++){var _=$(h[b]);if(_){var I=f[h[b]],q=I*_.item.price,E=W(I,_.item);E<q&&(t+="  ["+_.item.name+": promo aplicada ‚Äî $"+E+"]\n")}}t+="\n*Total: $"+Y()+"*\n",t+="\nNombre: "+e;var w="https://wa.me/5214461060320?text="+encodeURIComponent(t);window.open(w,"_blank","noopener");var L=document.getElementById("sheet-celebration");L&&(L.hidden=!1,setTimeout(function(){L.hidden=!0},4e3))}}function ne(){var e=document.getElementById("hero-title");if(e&&"true"!==e.dataset.split){var t=e.textContent.trim();e.innerHTML="";for(var a=0;a<t.length;a++){var n=document.createElement("span");n.className="hero__letter",n.textContent=t[a],e.appendChild(n)}e.dataset.split="true"}}"scrollRestoration"in history&&(history.scrollRestoration="manual"),document.addEventListener("DOMContentLoaded",function(){window.scrollTo(0,0),fetch("data/menu.json").then(function(e){return e.json()}).then(function(e){var i,s;i=(o=e).categories.map(function(e){return e.id}),l=i.length,v.innerHTML=i.map(function(e){var t=a[e]||{emoji:"",short:e};return'<button class="menu__tab" data-world-index="'+i.indexOf(e)+'" data-category="'+e+'">'+t.emoji+" "+t.short+"</button>"}).join(""),h.innerHTML=i.map(function(e,t){return'<button class="menu__dot" data-world-index="'+t+'" aria-label="'+(a[e]||{}).short+'"></button>'}).join(""),v.addEventListener("click",function(e){var t=e.target.closest(".menu__tab");t&&R(parseInt(t.dataset.worldIndex,10))}),h.addEventListener("click",function(e){var t=e.target.closest(".menu__dot");t&&R(parseInt(t.dataset.worldIndex,10))}),s="",o.categories.forEach(function(e){s+=function(e){var a=t[e.id]||{},o="";a.characterVideo&&(o='<div class="menu__world-character"><video src="'+a.characterVideo+'" poster="'+(a.character||"")+'" autoplay loop muted playsinline loading="lazy"></video></div>');var i='<div class="menu__world-header"><div class="menu__world-header-row"><div class="menu__world-header-text"><h3 class="menu__world-title">'+(e.icon||"")+" "+e.name+"</h3>";a.quote&&(i+='<p class="menu__world-quote">"'+a.quote+'"</p>'),e.description&&(i+='<p class="menu__category-desc">'+e.description+"</p>"),i+="</div>"+o+"</div></div>";var s=e.items.map(function(e){return function(e){var t=r[e.id]?r[e.id].qty:0,a="";e.promos?a=e.promos.map(function(e){return'<span class="menu__item-promo">'+e.label+"</span>"}).join(" "):e.promo&&(a='<span class="menu__item-promo">'+e.promo.label+"</span>");var o="";e.variant&&(o='<span class="menu__item-variant">'+e.variant.name+": $"+e.variant.price+"</span>");var i=-1!==n.indexOf(e.id);return'<div class="menu__item'+(i?" menu__item--premium":"")+(t>0?" has-items":"")+'" data-item-id="'+e.id+'"><span class="menu__item-name">'+e.name+'</span><span class="menu__item-price">'+(0===e.price?"Incluida":"$"+e.price)+"</span>"+a+o+'<div class="stepper"><button class="stepper__btn stepper__btn--minus" data-action="minus" data-id="'+e.id+'" aria-label="Quitar uno">‚àí</button><span class="stepper__count" id="count-'+e.id+'">'+t+'</span><button class="stepper__btn stepper__btn--plus" data-action="plus" data-id="'+e.id+'" aria-label="Agregar uno">+</button></div></div>'}(e)}).join(""),c="";return e.note&&(c='<p class="menu__category-note">* '+e.note+"</p>"),'<div class="menu__world" data-zone="'+e.id+'">'+i+'<div class="menu__items">'+s+"</div>"+c+"</div>"}(e)}),_.innerHTML=s,_.addEventListener("click",j)}).catch(function(e){console.error("Error loading menu:",e),_.innerHTML='<p style="text-align:center;padding:2rem;color:var(--white-dim);">No se pudo cargar el menu.</p>'}).then(function(){var e,t;document.querySelectorAll(".order-card").forEach(function(e){e.addEventListener("click",function(){!function(e){i=e;var t=document.getElementById("order-type-cards");document.querySelectorAll(".order-card").forEach(function(t){t.setAttribute("aria-pressed",t.dataset.type===e)}),t.classList.add("has-selection"),T.hidden="takeaway"!==e}(e.dataset.type)})}),(t=document.getElementById("address-toggle"))&&t.addEventListener("click",function(e){var t=e.target.closest(".address-toggle__btn");t&&function(e){s=e;var t=document.getElementById("address-fields"),a=document.getElementById("location-share");document.querySelectorAll(".address-toggle__btn").forEach(function(t){t.classList.toggle("is-active",t.dataset.mode===e)}),"write"===e?(t.hidden=!1,a.hidden=!0):(t.hidden=!0,a.hidden=!1),te()}(t.dataset.mode)}),(e=document.getElementById("btn-get-location"))&&e.addEventListener("click",G),I.addEventListener("click",K),function(){try{var e=sessionStorage.getItem("ac14_cart");if(!e)return;var t=JSON.parse(e);if(!t||"object"!=typeof t)return;for(var a=Object.keys(t),n=0;n<a.length;n++){var o=t[a[n]];o&&o.item&&o.qty&&(r[a[n]]=o)}for(var i=0,s=Object.keys(r),c=0;c<s.length;c++){var d=r[s[c]];if("salsas"!==d.categoryId&&(i+=d.qty),d.baseItemId){var l=document.getElementById("count-"+d.baseItemId);l&&(l.textContent=N(d.baseItemId));var u=_.querySelector('[data-item-id="'+d.baseItemId+'"]');u&&u.classList.add("has-items")}else{var m=document.getElementById("count-"+d.item.id);m&&(m.textContent=d.qty);var p=_.querySelector('[data-item-id="'+d.item.id+'"]');p&&p.classList.add("has-items")}}q.textContent=i,I.hidden=0===i}catch(e){r={}}}(),w.addEventListener("click",Z),E.querySelector(".bottom-sheet__handle").addEventListener("click",Z),S.addEventListener("click",ae),document.getElementById("customer-name").addEventListener("input",te),function(){var e=document.getElementById("qr-modal-code"),t=document.getElementById("qr-download-btn"),a=document.getElementById("qr-modal-overlay"),n=document.getElementById("qr-modal-download"),o=document.getElementById("qr-modal-close");if(!e||"undefined"==typeof QRCode)return;e.innerHTML="",new QRCode(e,{text:"https://asador.ganaderiacatorce.com",width:200,height:200,colorDark:"#D4231A",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H}),t.addEventListener("click",function(){a.classList.add("is-visible")}),o.addEventListener("click",function(){a.classList.remove("is-visible")}),a.addEventListener("click",function(e){e.target===a&&a.classList.remove("is-visible")}),n.addEventListener("click",function(){var t=e.querySelector("canvas");if(t){var a=document.createElement("a");a.download="asador-callejero-catorce-qr.png",a.href=t.toDataURL("image/png"),a.click()}})}(),function(){if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){return document.querySelectorAll(".hero__logo, .hero__subtitle, .hero__title, .hero__tagline, .hero__hours, .hero__bottom-info, .qr-download-btn").forEach(function(e){e.style.opacity="1"}),document.querySelectorAll(".menu__world-title, .menu__world-quote, .menu__category-desc, .menu__item, .salsas__subtitle").forEach(function(e){e.style.opacity="1"}),document.querySelectorAll(".menu__world").forEach(function(e){e.classList.add("is-entered")}),ne(),document.querySelectorAll(".hero__letter").forEach(function(e){e.style.opacity="1"}),function(){var e=document.getElementById("menu");if(!e)return;var t=.2*window.innerHeight;window.addEventListener("scroll",function(){var a=e.getBoundingClientRect(),n=a.top<=t&&a.bottom>0;v.classList.toggle("is-visible",n)},{passive:!0})}(),O(),R(0),void window.addEventListener("resize",function(){V(d)})}gsap.registerPlugin(ScrollTrigger),ne();var e=gsap.timeline({delay:.3});e.fromTo(".hero__logo",{opacity:0,scale:.8,filter:"blur(10px)"},{opacity:1,scale:1,filter:"blur(0px)",duration:.8,ease:"back.out(1.7)"}),e.fromTo(".hero__subtitle",{opacity:0,letterSpacing:"0.4em"},{opacity:1,letterSpacing:"0.15em",duration:.6,ease:"power3.out"},"-=0.3"),e.set(".hero__title",{opacity:1}),e.fromTo(".hero__letter",{opacity:0,y:40,rotateX:-90},{opacity:1,y:0,rotateX:0,duration:.5,stagger:.06,ease:"back.out(2.5)"},"-=0.2"),e.fromTo(".hero__tagline",{opacity:0,y:20},{opacity:1,y:0,duration:.5,ease:"power3.out"},"-=0.2"),e.fromTo(".hero__tagline--top",{opacity:0,y:-10},{opacity:1,y:0,duration:.5,ease:"power3.out"},"-=0.3"),e.fromTo(".hero__bottom-info",{opacity:0,y:15},{opacity:1,y:0,duration:.6,ease:"power3.out"},"-=0.2"),e.fromTo(".qr-download-btn",{opacity:0},{opacity:1,duration:.4,ease:"power2.out"},"-=0.4");var t=document.querySelector(".hero__bottom-info"),a=document.querySelector(".hero");t&&a&&gsap.to(t,{opacity:0,ease:"none",scrollTrigger:{trigger:a,start:"10% top",end:"30% top",scrub:!0}});var n=document.getElementById("menu");n&&ScrollTrigger.create({trigger:n,start:"top 80%",end:"bottom top",onEnter:function(){v.classList.add("is-visible")},onLeave:function(){v.classList.remove("is-visible")},onEnterBack:function(){v.classList.add("is-visible")},onLeaveBack:function(){v.classList.remove("is-visible")}});[".order-type",".footer"].forEach(function(e){var t=document.querySelector(e);t&&gsap.fromTo(t,{opacity:0,y:40},{opacity:1,y:0,duration:.8,ease:"power3.out",scrollTrigger:{trigger:t,start:"top 85%",once:!0}})}),requestAnimationFrame(function(){ScrollTrigger.refresh(),O(),R(0)}),window.addEventListener("resize",function(){V(d)})}()})})}();